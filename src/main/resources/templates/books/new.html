<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="ISO-8859-1">
    <title>Add Book</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <base href="/">
</head>

<body>
    <!-- 
<jsp:include page="/WEB-INF/views/clothes/header.jsp"></jsp:include>
 -->
    <div th:replace="books/fragments/header :: header"> </div>
    <div class="container">
        <div class="row justify-content-center text-primary">
            <div class="col- d-flex justify-content-center">
                <h1>Add New Book</h1>
                <hr>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-7">
                <form th:action="@{/books/saveOrUpdate}" method="POST" th:object="${clothes}"
                    class="border rounded w-100 mb-5 mx-auto px-3 pt-3 bg-light" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="clothesName">Book name:</label>
                        <input th:field="*{name}" id="clothesName" type="text" class="form-control"
                            placeholder="Book Name">
                    </div>
                    <div class="form-group">
                        <label for="clothesPrice">Book price:</label>
                        <input th:field="*{price}" id="clothesPrice" type="text" class="form-control"
                            placeholder="Book price">
                    </div>
                    <div class="form-group">
                        <label for="clothesDescription">Books Description:</label>
                        <input th:field="*{description}" name="clothesDescription" id="clothesDescription" type="text"
                            class="form-control" placeholder="Book Description">
                    </div>
                    <div class="form-group">
                        <label for="clothesQuantity">Book Quantity:</label>
                        <input th:field="*{quantity}" id="clothesQuantity" type="text" class="form-control"
                            placeholder="Book Quantity">
                    </div>
                    <div class="form-group">
                        <label for="clothesAuthor">Book Author:</label>
                        <input th:field="*{AuthorName}" id="clothesAuthor" type="text" class="form-control"
                            placeholder="Book Author">
                    </div>
                    <div class="form-group">
                        <label for="clothesPublishTime">Book Author:</label>
                        <input th:field="*{PublishTime}" id="clothesPublishTime" type="date" class="form-control">
                    </div>
                    <div>

                    </div>
                    <div class="form-group">
                        <label for="clothesCategory">Book Category:</label>
                        <select name="idCategory" class="form-control">

                            <option th:each="i : ${categorys}" th:value="${i.id}" th:text="${i.name}">
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="clothesCategory">Book Publisher:</label>
                        <select name="idPublisher" class="form-control">

                            <option th:each="i : ${publishers}" th:value="${i.id}" th:text="${i.name}">
                            </option>
                        </select>
                    </div>
                    <p>Book Image:</p>
                    <div class="custom-file mb-3">
                        <input type="file" class="custom-file-input" id="fileToUpload" name="fileToUpload">
                        <label class="custom-file-label" for="fileToUpload">Choose file</label>
                    </div>
                    <div class="form-group">
                    	<div id="message" style="color:red; text-align: right;">
                    </div> 
                    <div class="form-group">
                        <button class="btn btn-success px-5">Save</button>
                    </div>

                    <div class="form-group">
                        <p>Go home <a href="home">Click here</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>






    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script>
        //Add the following code if you want the name of the file appear on select
        $(".custom-file-input").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
        $(document).ready(function(){
            $(".btn").click(function(){
            	var date = $("#clothesPublishTime").val();
            	var name = $("#clothesName").val();
            	var price = $("#clothesPrice").val();
            	var description = $("#clothesDescription").val();
            	var author = $("#clothesAuthor").val();
            	//return false;
                if(!date || !name || !price || !description || !author){
				       $('#message').text("Please fill enough information");
        			return false;
                    }
                else{
                    //return false;
                    }
                })
                
        	
            })
    </script>
</body>

</html>